(()=>{var e=e||{};!function(e,o,i){o.extend(jQuery.easing,{easeOutExpo:function(e,o,i,a,n){return o==n?i+a:a*(1-Math.pow(2,-10*o/n))+i}}),i.helpers={initComponents:function(e){e.find("[data-js-component]").each((function(){for(var e,a,n=o(this),t=n.data("js-component").split(" "),s=0,l=t.length;s<l;s++)e=t[s],i.pageComponents.hasOwnProperty(e)&&("function"==typeof(a=i.pageComponents[e])?a(n,e):"object"==typeof a&&a.hasOwnProperty("init")&&a.init(n,e))}))}},i.pageComponents={videoTrigger:function(e,i){var a=o(".js--"+i+"_iframe")[0],n=$f(a);o(a).hide(),e.on("click",(function(i){i.preventDefault(),e.hide(),o(a).show().addClass("_is_playing"),n.api("play")}))},introModule:function(e){o(".page").hasClass("page--project")&&setTimeout((function(){o(".introModule").addClass("is-overlay")}),500)},videoPopoutPlayer:function(e){var i=e.attr("data-id"),a=o(".popout_overlay");e.on("click",(function(){a.fadeIn(),o("body").addClass("_video_playing"),o(o(".singlePage_video")[0]).attr("src","https://player.vimeo.com/video/"+i)})),a.on("click",(function(){a.fadeOut(),new Vimeo.Player(o(".singlePage_video")[0]).pause()}))},heroVideo:function(e,i){var a=e.find(".js--"+i+"_splash"),n=e.find(".js--"+i+"_trigger"),t=o(".js--"+i+"_iframe")[0],s=$f(t);n.on("click",(function(){a.addClass("_is_paused"),a[0].pause(),o(".logo").addClass("_is_hidden")})),s.addEvent("ready",(function(){s.addEvent("finish",(function(){o(".pageHero_video_mask").trigger("click")}))})),e.on("click",".pageHero_video_mask",(function(e){e.target===this&&o(t).hasClass("_is_playing")&&(o(t).hide().removeClass("_is_playing"),s.api("pause"),a.removeClass("_is_paused"),a[0].play(),o(".logo").removeClass("_is_hidden"),n.show())}))},lightBox_new:function(e){lightbox.option({resizeDuration:300,wrapAround:!0})},lightBoxTrigger:function(e){e.on("click",(function(){var i=e.attr("data-trigger");o('*[data-lightbox="'+i+'"]').eq(0).trigger("click")}))},fadeImage:function(e,i){e.after('<div id="loader" class="invert"><div></div></div>'),e.each((function(e){this.complete?(o(this).addClass("fadeIn"),o("#loader").remove()):o(this).load((function(){o(this).addClass("fadeIn"),o("#loader").remove()}))}))},wipCarousel:function(){var e=document.querySelector(".embla");EmblaCarousel(e,{loop:!0,inViewThreshold:1},[EmblaCarouselClassNames()])},stickyHeader:function(i,a){var n=!1,t=0,l=0;o(e).scroll((function(e){var a;s(((a=o(this).scrollTop())<50?(i.removeClass("is_visible"),n=!1):a>t?a>l&&(i.removeClass("is_visible"),n=!1):(n||(l=a-75),n=!0,i.addClass("is_visible")),void(t=a)))}))}};var a,n,t,s=e.selfSelectuestAnimationFrame||e.webkitselfSelectuestAnimationFrame||e.mozselfSelectuestAnimationFrame||e.msselfSelectuestAnimationFrame||e.oselfSelectuestAnimationFrame||function(o){e.setTimeout(o,1e3/60)},l=0,d=-100;function r(){var e=n.scrollTop(),i=0;a.each((function(a){var n=o(this),t=n.offset().top,s=l-d>=t-e,r=n.data("delay-buffer")?n.data("delay-buffer"):0;s&&!n.data("visible")&&(setTimeout((function(){n.addClass("_visible").data("visible",!0)}),i),i+=parseInt(r,10))})),setTimeout((function(){e!==n.scrollTop()&&r()}),10)}function c(){l=n.height(),r()}function u(){var e=n.height()/n.width()*100;return!(Math.round(100*e)/100<=56.25)&&(t.removeClass("_not_in_aspect").removeClass("_hop_up").removeClass("_drop_down"),!0)}function p(){t.removeClass("_page_loading").addClass("_page_loaded"),u()||0!=n.scrollTop()?t.removeClass("_hop_up").removeClass("_drop_down"):(t.addClass("_hop_up"),n.on("scroll",(function(){t.addClass("_drop_down")})))}o((function(){n=o(e),t=o("body"),o(".pageHero"),a=o("*[data-fade]"),l=o(e).height(),o(".globalNav_toggle").on("click",(function(){t.toggleClass("_nav_open")})),o(".globalNav_link").on("click",(function(){t.toggleClass("_nav_open")})),n.on("load",p),n.on("load",c).on("scroll",(function(){s(r)})).on("resize",(function(){s(r)})),n.on("load",u).on("resize",(function(){s(u)})),o(document).on("click",".pageHero_more",(function(e){e.preventDefault();var i=o(".pageHero").outerHeight();return o("html, body").animate({scrollTop:i},1e3,"easeOutExpo"),!1})),o(document).on("click",".js--pinable",(function(i){i.preventDefault();var a="http://pinterest.com/pin/create/button/?url="+o(this).data("url")+"&media="+o(this).data("media")+"&description="+o(this).data("description");e.open(a,"","menubar=no, width=700, height=300")}));var d=function(){o("#loader").remove()};o("a.js--lightboxLink").imageLightbox({onStart:function(){o('<div id="imagelightbox-overlay"></div>').appendTo("body"),o("#imagelightbox-overlay").addClass("_is_visible"),o("body").css("overflow","hidden")},onEnd:function(){o("#imagelightbox-overlay").remove(),o("body").css("overflow","auto"),d()},onLoadStart:function(){o('<div id="loader"><div></div></div>').appendTo("body")},onLoadEnd:function(){d()}}),i.helpers.initComponents(o("body"))}))}(window,jQuery,e)})();